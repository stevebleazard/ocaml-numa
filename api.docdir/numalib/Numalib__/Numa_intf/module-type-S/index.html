<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (numalib.Numalib__.Numa_intf.S)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../../index.html">numalib</a></span></nav><header><h1><span class="keyword">Module type</span> <span class="module-path">Numalib__.Numa_intf.S</span></h1></header><div class="spec module" id="module-IO"><a href="#module-IO" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="IO/index.html">IO</a> : <a href="../../../../numalib.raw/Numalib_raw/Io_intf/index.html#module-type-S">Numalib_raw.Io_intf.S</a></code></div><div class="doc"></div></div><div class="spec val" id="val-node_to_cpus"><a href="#val-node_to_cpus" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>node_to_cpus : node:int <span class="keyword">&#8209;&gt;</span> int list <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">node_to_cpus</code> converts a node number, <code class="code">node</code>, to a list of CPUs
hosted on the node</p></div></div><div class="spec val" id="val-available"><a href="#val-available" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>available : unit <span class="keyword">&#8209;&gt;</span> bool <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">available</code> - true if NUMA is supported on the platform</p></div></div><div class="spec val" id="val-max_possible_node"><a href="#val-max_possible_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>max_possible_node : unit <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">max_possible_node</code> - the highest possible node in the system</p></div></div><div class="spec val" id="val-num_possible_nodes"><a href="#val-num_possible_nodes" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>num_possible_nodes : unit <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">num_possible_nodes</code> - the size of the kernels node mask</p></div></div><div class="spec val" id="val-num_possible_cpus"><a href="#val-num_possible_cpus" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>num_possible_cpus : unit <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">num_possible_cpus</code> - the maximum number of CPUs</p></div></div><div class="spec val" id="val-max_node"><a href="#val-max_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>max_node : unit <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">max_node</code> - highest node number available on the system</p></div></div><div class="spec val" id="val-num_configured_nodes"><a href="#val-num_configured_nodes" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>num_configured_nodes : unit <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">num_configured_nodes</code> - number of configure nodes in the system</p></div></div><div class="spec val" id="val-num_configured_cpus"><a href="#val-num_configured_cpus" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>num_configured_cpus : unit <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">num_configured_cpus</code> - number of configure CPUs in the system</p></div></div><div class="spec val" id="val-num_task_cpus"><a href="#val-num_task_cpus" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>num_task_cpus : unit <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">num_task_cpus</code> - number of CPUs the calling task can use</p></div></div><div class="spec val" id="val-num_task_nodes"><a href="#val-num_task_nodes" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>num_task_nodes : unit <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">num_task_nodes</code> - number of nodes the calling task can use</p></div></div><div class="spec val" id="val-get_mems_allowed"><a href="#val-get_mems_allowed" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_mems_allowed : unit <span class="keyword">&#8209;&gt;</span> int list <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">get_mems_allowed</code> - returns the list of</p></div></div><div class="spec val" id="val-parse_cpustring"><a href="#val-parse_cpustring" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>parse_cpustring : string <span class="keyword">&#8209;&gt;</span> int list <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">parse_cpustring</code> - convert a CPU specification string to a bit list. The
specification is a comma separated list of CPU numbers and ranges.
See NUMA(3) for more details</p></div></div><div class="spec val" id="val-parse_nodestring"><a href="#val-parse_nodestring" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>parse_nodestring : string <span class="keyword">&#8209;&gt;</span> int list <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">parse_nodestring</code> - convert a node specification string to a bit list. The
specification is a comma separated list of node numbers and ranges.
See NUMA(3) for more details</p></div></div><div class="spec val" id="val-node_of_cpu"><a href="#val-node_of_cpu" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>node_of_cpu : cpu:int <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">node_of_cpu</code> returns the node the specified CPU is part of</p></div></div><div class="spec val" id="val-node_distance"><a href="#val-node_distance" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>node_distance : int <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">node_distance</code> returns the distance between 2 nodes</p></div></div><div class="spec val" id="val-get_affinity"><a href="#val-get_affinity" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_affinity : pid:int <span class="keyword">&#8209;&gt;</span> int list <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">get_affinity</code> returns the list of CPUs the process <code class="code">pid</code> is bound to</p></div></div><div class="spec val" id="val-set_affinity"><a href="#val-set_affinity" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_affinity : pid:int <span class="keyword">&#8209;&gt;</span> cpus:int list <span class="keyword">&#8209;&gt;</span> unit <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">set_affinity</code> sets the CPUs process <code class="code">pid</code> runs on</p></div></div><div class="spec val" id="val-preferred_node"><a href="#val-preferred_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>preferred_node : unit <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">preferred_node</code> gets the preferred node for memory allocations</p></div></div><div class="spec val" id="val-set_preferred_node"><a href="#val-set_preferred_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_preferred_node : node:int <span class="keyword">&#8209;&gt;</span> unit <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">set_preferred_node</code> sets the preferred node for memory allocations</p></div></div><div class="spec val" id="val-node_size64"><a href="#val-node_size64" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>node_size64 : node:int <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">node_size64</code> returns the amount of memory available on a node in bytes</p></div></div><div class="spec val" id="val-node_size"><a href="#val-node_size" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>node_size : node:int <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">node_size</code> returns the amount of memory available on a node in bytes</p></div></div><div class="spec val" id="val-pagesize"><a href="#val-pagesize" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pagesize : unit <span class="keyword">&#8209;&gt;</span> int <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">pagesize</code> returns the page size in bytes</p></div></div><div class="spec val" id="val-set_strict"><a href="#val-set_strict" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_strict : strict:bool <span class="keyword">&#8209;&gt;</span> unit <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">set_strict</code> enables or disables strict memory allocation. When <code class="code">strict</code> is
<code class="code">true</code> memory allocation will fail if the memory is not available on the node</p></div></div><div class="spec val" id="val-get_interleave_mask"><a href="#val-get_interleave_mask" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_interleave_mask : unit <span class="keyword">&#8209;&gt;</span> int list <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">get_interleave_mask</code> returns the list of nodes memory will be allocated from</p></div></div><div class="spec val" id="val-set_interleave_mask"><a href="#val-set_interleave_mask" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_interleave_mask : nodes:int list <span class="keyword">&#8209;&gt;</span> unit <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">set_interleave_mask</code> sets the list of nodes memory will be allocated from</p></div></div><div class="spec val" id="val-bind"><a href="#val-bind" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>bind : nodes:int list <span class="keyword">&#8209;&gt;</span> unit <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">bind</code> binds the process to the list of nodes specified in <code class="code">nodes</code>. The process
will only run on the CPUs of the specified nodes and memory will only be allocated
from these nodes.</p></div></div><div class="spec val" id="val-set_localalloc"><a href="#val-set_localalloc" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_localalloc : unit <span class="keyword">&#8209;&gt;</span> unit <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">set_localalloc</code> sets the memory allocation policy for the calling task to local
allocation. In this mode, the preferred node for memory allocation is effectively
the node where the task is executing at the time of a page allocation.</p></div></div><div class="spec val" id="val-set_membind"><a href="#val-set_membind" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_membind : nodes:int list <span class="keyword">&#8209;&gt;</span> unit <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">set_membind</code> binds the process to the list of nodes specified in <code class="code">nodes</code>. The process
will only allocate memory on these nodes.</p></div></div><div class="spec val" id="val-get_membind"><a href="#val-get_membind" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_membind : unit <span class="keyword">&#8209;&gt;</span> int list <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">get_membind</code> returns the list of nodes the process memory allocation is bound to</p></div></div><div class="spec val" id="val-run_on_node_mask"><a href="#val-run_on_node_mask" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>run_on_node_mask : nodes:int list <span class="keyword">&#8209;&gt;</span> unit <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">run_on_node_mask</code> runs the current task on the specified nodes</p></div></div><div class="spec val" id="val-run_on_node"><a href="#val-run_on_node" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>run_on_node : node:int <span class="keyword">&#8209;&gt;</span> unit <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">run_on_node</code> runs the current task on the specified node</p></div></div><div class="spec val" id="val-get_run_node_mask"><a href="#val-get_run_node_mask" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_run_node_mask : unit <span class="keyword">&#8209;&gt;</span> int list <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">get_run_node_mask</code> returns the list of nodes the process will run on</p></div></div><div class="spec val" id="val-set_bind_policy"><a href="#val-set_bind_policy" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_bind_policy : strict:bool <span class="keyword">&#8209;&gt;</span> unit <a href="IO/index.html#type-t">IO.t</a></code></div><div class="doc"><p><code class="code">set_bind_policy</code> specifies whether calls that bind memory to a specific node should
use the preferred policy or a strict policy. The preferred policy allows the kernel to
allocate memory on other nodes when there isn't enough free on the target node. strict
will fail the allocation in that case. Setting the argument to specifies strict, 0 preferred.</p></div></div></body></html>